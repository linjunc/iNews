(this.webpackJsonpinews=this.webpackJsonpinews||[]).push([[55],{1036:function(n,e,t){"use strict";t.r(e);var r,o=t(290),c=t.n(o),i=t(72),a=t(291),s=t(35),l=t(0),u=t(9),d=t(307),f=t(379),b=t(378),j=t(169),O=t(66),v=t(143),m=t(49),p=t(297),g=t(272),w=t(45),x=t(308),h=t(67),A=t(68).b.div(r||(r=Object(h.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  min-height: 84px;\n  padding: 6px 28.8px;\n  cursor: pointer;\n  border-bottom: 1px solid rgba(230, 230, 231, 0.5);\n\n  &:hover {\n    background: #fcfcfc;\n  }\n\n  .btn-style {\n    justify-content: center;\n    flex: 0 0 auto;\n    margin-left: 12px;\n    width: 88px;\n    height: 28px;\n    font-size: 12px;\n    border: 1px solid #92c452;\n    border-radius: 2px;\n    border: 1px solid #92c452;\n    transition: background-color 0.5s, color 0.5s;\n\n    &:hover {\n      opacity: 0.8;\n    }\n  }\n\n  .not-follow {\n    color: #92c452;\n    background-color: #fff;\n  }\n\n  .has-follow {\n    color: #fff;\n    background-color: #92c452;\n  }\n\n  & > div {\n    display: flex;\n    align-items: center;\n\n    .avatar {\n      width: 45px;\n      height: 45px;\n      border-radius: 50%;\n      margin-right: 10px;\n      background-color: #eee;\n      overflow: hidden;\n\n      img {\n        width: 100%;\n        height: 100%;\n        opacity: 0;\n      }\n    }\n\n    .title {\n      font-size: 16px;\n      font-weight: 600;\n      color: #2e3135;\n    }\n\n    .brief {\n      margin-top: 7.2px;\n      font-size: 12px;\n      color: #b9c0c8;\n    }\n  }\n"]))),k=t(7);function E(n){var e=n.userInfo,t=n.isTag,r=n.index,o=Object(u.f)(),c=Object(l.useRef)(),i=e||{},a=i.avatar,b=i.nickname,O=i.introduction,v=i.user_id,m=i.is_follow,h=void 0===m||m,E=i.tag,N=i.name,V=Object(l.useState)(h),R=Object(s.a)(V,2),y=R[0],z=R[1];return Object(l.useEffect)((function(){var n=c.current;if(n){if(!(r<7)){var e=Object(d.throttle)(Object(f.a)((function(){n.src=a,n.onload=function(){n.style.opacity=1,window.removeEventListener("scroll",e)}}),n,50),200);return window.addEventListener("scroll",e),function(){window.removeEventListener("scroll",e)}}n.src=a,n.onload=function(){return n.style.opacity=1}}}),[a,r]),Object(k.jsxs)(A,{onClick:function(){t||o("/user/".concat(v))},children:[Object(k.jsxs)("div",{children:[t||Object(k.jsx)("div",{className:"avatar",children:Object(k.jsx)("img",{alt:"\u7528\u6237\u5934\u50cf",ref:c,onError:function(n){n.target.onerror=null,n.target.src=x.default}})}),Object(k.jsxs)("div",{children:[Object(k.jsx)("h4",{className:"title text-nowrap",children:b||N}),Object(k.jsx)("p",{className:"brief text-nowrap",children:O})]})]}),Object(k.jsx)(g.a,{className:(y?"has-follow":"not-follow")+" btn-style middle-item",onClick:function(n){n.stopPropagation(),Object(p.a)("token")?(z(!y),t?Object(w.b)({user_id:v,tag_list:["".concat(E)]}):Object(w.a)({media_id:v})):j.b.warn("\u60a8\u8fd8\u6ca1\u6709\u767b\u5f55\u54e6\uff01")},children:y?"\u5df2\u5173\u6ce8":"\u5173\u6ce8"})]})}var N=Object(k.jsx)(m.a,{style:{fontSize:24},spin:!0});e.default=Object(l.memo)((function(n){var e=n.getFollowListFn,t=n.isFollower,r=Object(u.g)().id,o=Object(l.useState)(!0),m=Object(s.a)(o,2),p=m[0],g=m[1],w=Object(l.useState)([]),x=Object(s.a)(w,2),h=x[0],A=x[1],V=Object(l.useState)(0),R=Object(s.a)(V,2),y=R[0],z=R[1],S=Object(l.useRef)(0),I=Object(l.useState)(!1),T=Object(s.a)(I,2),H=T[0],B=T[1],F=Object(l.useRef)(!1),q=Object(l.useRef)(!0),C=Object(l.useMemo)((function(){return Object(d.throttle)(Object(f.a)((function(){F.current||z((function(n){return S.current=n+10}))})),200)}),[]);return Object(l.useEffect)((function(){y&&z(0),S.current=0,p||g(!0),h.length&&A([]),H&&B(!1),F.current=!1,q.current=!0}),[e]),Object(l.useEffect)((function(){var n=function(){var n=Object(a.a)(c.a.mark((function n(){var o,a;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return B(F.current=!0),n.prev=1,n.next=4,e({user_id:r,n:10,skip:S.current});case 4:o=n.sent,a=o.data,console.log(a),B(F.current=!1),a.has_more||(q.current=!1,window.removeEventListener("scroll",C)),t?a.follower_list&&A((function(n){return[].concat(Object(i.a)(n),Object(i.a)(a.follower_list))})):a.follow_list&&A((function(n){return[].concat(Object(i.a)(n),Object(i.a)(a.follow_list))})),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(1),j.b.error("\u8bf7\u6c42\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5\uff01");case 15:return n.prev=15,g(!1),n.finish(15);case 18:case"end":return n.stop()}}),n,null,[[1,12,15,18]])})));return function(){return n.apply(this,arguments)}}();H||n()}),[S.current,e]),Object(l.useEffect)((function(){return window.addEventListener("scroll",C),function(){window.removeEventListener("scroll",C)}}),[e,C]),Object(k.jsxs)("div",{className:"items",children:[Object(b.a)(h.length?h.map((function(n,e){return Object(k.jsx)(E,{userInfo:n,index:e},n.user_id)})):Object(k.jsx)(O.a,{description:"\u6682\u65f6\u8fd8\u6ca1\u6709\u5173\u6ce8\u4fe1\u606f\u54e6\uff01"}),{rows:0},p,!0),H&&!p&&Object(k.jsx)(v.a,{indicator:N,tip:"\u52a0\u8f7d\u4e2d..."}),q.current||h.length>10&&Object(k.jsx)("div",{className:"toBottom middle-item",children:"\u5df2\u7ecf\u6ca1\u6709\u66f4\u591a\u5185\u5bb9\u4e86\u54e6\uff01"})]})}))},297:function(n,e,t){"use strict";t.d(e,"a",(function(){return r})),t.d(e,"c",(function(){return o})),t.d(e,"b",(function(){return c})),t.d(e,"d",(function(){return i}));var r=function(n){return localStorage.getItem(n)},o=function(n,e){localStorage.setItem(n,e)},c=function(n){return sessionStorage.getItem(n)},i=function(n,e){sessionStorage.setItem(n,e)}},303:function(n,e,t){"use strict";t.d(e,"a",(function(){return r}));var r=function(){var n,e,t,r,o,c=0;if((null===(n=document)||void 0===n?void 0:n.documentElement)&&(null===(e=document)||void 0===e||null===(t=e.documentElement)||void 0===t?void 0:t.scrollTop))c=null===(o=document)||void 0===o?void 0:o.documentElement.scrollTop;else if(null===(r=document)||void 0===r?void 0:r.body){var i;c=null===(i=document)||void 0===i?void 0:i.body.scrollTop}return c}},308:function(n,e,t){"use strict";t.r(e),e.default="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAE50lEQVR4nO1avYobSRD2I+gNVk9g9AAO/AjOnCrwA+gBDjbbmf5qoMGxQdHFgksWRxM4NNxEF9kgjoODYwPBBQv3t7rganQ15Z5RV/eMxhh9MNFud/32V9VdevbsiiuuuGImeO8XRVEs59ZjUrCRL4noFkANoAGwB3AAcBTfnv++IyJfFMXLuXVPRms0gG3AUOu3A7Ce26YoeO8XROR7jD5wlJs2ys65DRHdcnZsOQP2fc4gIj+3jUF47xcA1gHlDwBq59zGe7+w7Mn77XocuZ7IFDs41RulZANgbTW6D865VwHnNrPzhHNuo9L9kBJto7yOI5xzmylkDUKc9YsYrsGOmIcb+LzvlPGvLqYAA8BKZV8zeQACxjdzNjJFUSwV/9STClRpn+TxoiiWXP48l74tEd3mZBGXz1PfkLrPINS5MxvfUy36Gp+VZW/OTLn32mTcOajzdrAoyGv7DB/qErcWHdkJp/1GLZHCABPhcdQ7ZZK7vpXOIK7120CtXxrlnWQZTOyHTH0iuo1dF2DpOiZzeJ2s9QfLccN/HeQ4R4HTqlVmH6uIWndMbIVlNpjYXcjOywJOV3PHJdflNCmpxCazwJK1HShSiY4+12bzuoG9ks605K2kXoVJyex9yRljdIhyPwuzZ3MB/u/4rCTUNiWNWWgAnIlJpVFkoq05UiRmWjzG2Q/suU9xqiBSGxmmpr88s8nkE0CqIal2dFjc2IicHDDmPV2WRMu65OMjzr8p5aTAkTOg1WefsLatBvG9hCAy8/UymXiG99xn6FObnScEmliX156qh3Vtz36rnKwSV/h4fXKYPLv+Ksg3iJQbnuSzqHKey+SKeNK6MIZi8aTXHhWQ89d4aUAqk6vHkyTF9SNH6v1eOiA6GGMwOboXmZ2xm1wJLslqqlQrvYxVIJvJ9ZUYERMd7/0iMGvIeu1N6iGSamcAgVfbI4Cdc27DE+PnAFZieqz/t8596k7qaZJq5wCI6Hvn3FEZN/T9PtagJSmYsvTkKHFmWnzu2+d2k+pNI76nSb5ECMEDhjdE9IGIfiCi9wDu+fvY56hUEpR2mN4mlOdMRMgvs3tlRM3kdrYOt4OTwB5NVB0XQOKbRrvYfAVVk6MjIl+C+8AR7BCjpTdB4ptGuzi6peWM2Yr/H/VHDIFp8FluUOlvb+hUSztYDaCmxTlR74MaepwNiqhk6e24vEj0CVTRmcT4FtoJfcQmo5/1NKe6uS+4gAUlzQxTocdfOrrqDmEnPw30DBm0oEsY30I5oUNwqaO8QciS1N7K1PRntOcvg047rRO688isoUwHOu24h28FTf/TlAA0SQfmkeP+bEeVxd9i2XhKqL7j/eQZiS/n9/kkkwH1Cp3P+jEgog/CAY9z/kiqqqobAH8KfaY/jiz0UQh9AvB6UqEBFEXxBsBfswUDwGfVlEzz6ywFDsA9O76V/0tVVTeXkN8BKyI54dE5924qeXd3dxuVfRdzfC8AvAHwz1SO8N4vQoZzBhRjyBgFzrnQT9uPRPQZwFvLXlVV3ZRl+R0R/QTg74Dh97OkfAwCx0J+D0T0q3PuExHVzrl3/O2I6EcADxzpp8DaJyKqiej53DZGgTPiYcAZMd8Td5z3ZVm+mNumZAAoOMIHVbq0sX9wBvwM4O1Xm+ZjoSzLFwBef/OGXnHFFV8t/gWFCJ5xlnjv0QAAAABJRU5ErkJggg=="},378:function(n,e,t){"use strict";t.d(e,"a",(function(){return c}));t(0);var r=t(276),o=t(7),c=function(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),c=1;c<e;c++)t[c-1]=arguments[c];var i=t[0],a=void 0===i?{rows:3}:i,s=t[1],l=t[2],u=void 0!==l&&l;return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(r.a,{paragraph:a,active:!0,avatar:u,loading:s,className:"Skeleton",children:n}),Object(o.jsx)(r.a,{paragraph:a,active:!0,avatar:u,loading:s,className:"Skeleton"}),Object(o.jsx)(r.a,{paragraph:a,active:!0,avatar:u,loading:s,className:"Skeleton"})]})}},379:function(n,e,t){"use strict";t.d(e,"a",(function(){return o}));var r=t(303),o=function(n,e,t){var o=e||document.body;return function(){window.innerHeight+Object(r.a)()>=(e?o.offsetTop:o.scrollHeight)-(t||200)&&n()}}}}]);
//# sourceMappingURL=55.c312333d.chunk.js.map