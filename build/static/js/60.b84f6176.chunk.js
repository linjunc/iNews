(this.webpackJsonpinews=this.webpackJsonpinews||[]).push([[60],{1033:function(n,e,t){"use strict";t.r(e);var a,r,o,i,l,c=t(0),s=t(72),d=t(35),u=t(1001),p=t.n(u),b=t(1002),f=t(470),m=t(69),h=t(81),g=t(67),x=t(68),j=x.b.div(a||(a=Object(g.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 18px;\n  padding: 0 10px;\n\n  .title {\n    font-size: 1.28em;\n    font-weight: bold;\n    color: #40485b;\n  }\n"]))),w=x.b.div(r||(r=Object(g.a)(["\n  margin: 5px 0 10px 0;\n\n  .react-calendar-heatmap text {\n    font-size: 10px;\n    fill: #aaa;\n  }\n\n  svg {\n    transform: translateX(-7px);\n  }\n\n  g.react-calendar-heatmap-weekday-labels {\n    transform: translate(0, 14) !important;\n  }\n\n  g.react-calendar-heatmap-weekday-labels text {\n    font-size: 10px;\n  }\n\n  rect {\n    cursor: pointer;\n    stroke: #fff !important;\n    fill-opacity: 0.7;\n    outline: none;\n\n    &:hover {\n      fill-opacity: 1;\n    }\n  }\n\n  .react-calendar-heatmap .color-news-0 {\n    fill: #e7e7e7ee;\n  }\n  .react-calendar-heatmap .color-news-1 {\n    fill: #b8d7f3;\n  }\n  .react-calendar-heatmap .color-news-2 {\n    fill: #7fb9ed;\n  }\n  .react-calendar-heatmap .color-news-3 {\n    fill: #1890ff;\n  }\n  .react-calendar-heatmap .color-news-4 {\n    fill: #2181d8;\n  }\n"]))),O=x.b.div(o||(o=Object(g.a)(["\n  display: flex;\n  justify-content: space-between;\n  padding: 0 10px;\n  color: #40485b;\n\n  .statistics {\n    display: flex;\n    flex-direction: column;\n\n    .all-read-time {\n      margin: 0 20px 10px 0;\n\n      .num {\n        font-weight: 600;\n        color: #1890ff;\n      }\n    }\n  }\n\n  .color-show-box {\n    display: flex;\n    align-items: center;\n\n    .color-box {\n      display: flex;\n      justify-content: space-between;\n      width: 80px;\n      margin: 0 5px;\n\n      & > div {\n        width: 14px;\n        height: 14px;\n        border-radius: 3px;\n        cursor: pointer;\n      }\n\n      & > div:nth-child(1) {\n        background-color: #e7e7e7ee;\n      }\n\n      & > div:nth-child(2) {\n        background-color: #b8d7f3;\n      }\n\n      & > div:nth-child(3) {\n        background-color: #7fb9ed;\n      }\n\n      & > div:nth-child(4) {\n        background-color: #1890ff;\n      }\n\n      & > div:nth-child(5) {\n        background-color: #2181d8;\n      }\n    }\n  }\n\n  .ant-select:not(.ant-select-disabled):hover .ant-select-selector {\n    border-color: #1890ff;\n  }\n"]))),v=t(7),y=h.a.Option,k=Object(c.memo)((function(){var n=Object(c.useContext)(m.a).calendarData,e=Object(c.useState)(n),t=Object(d.a)(e,2),a=t[0],r=t[1],o=Object(c.useState)({recentlyLoginTime:0,longestLoginTime:0,allReadingTime:0}),i=Object(d.a)(o,2),l=i[0],u=i[1],g=Object(c.useMemo)((function(){return Object(f.b)()}),[]),x=g.allDays,k=g.endDay;Object(c.useEffect)((function(){var e=Object(f.a)(x,k);if(n.length){var t=Object(s.a)(n),a=0,o=0,i=0,l=0,c=0,d=!0;t.sort((function(n,e){return e.date-n.date}));var p=t.map((function(n){return o+=n.count,n.date.getTime()})),b=t.map((function(n){return n.count}));e.forEach((function(n,t){p.includes(n.date.getTime())?(e[t].count=b[a++],i++,d&&c++,l=Math.max(l,i)):(i=0,l&&(d=!1))})),u({recentlyLoginTime:c,longestLoginTime:l,allReadingTime:o})}r(e)}),[n,x,k]);var z=function(n){switch(n){case 0:default:return"0 min";case 1:return"0 ~ 20 min";case 2:return"20 ~ 60 min";case 3:return"60 ~ 120 min";case 4:return"\u8d85\u8fc7120 min"}};return Object(v.jsxs)(w,{children:[Object(v.jsxs)(j,{children:[Object(v.jsx)("h1",{className:"title",children:"\u9605\u8bfb\u65e5\u5386"}),Object(v.jsx)(h.a,{defaultValue:"2024",style:{width:120},children:Object(v.jsx)(y,{children:"2024"})})]}),Object(v.jsx)(p.a,{startDate:Object(f.e)(k,-x),endDate:k,values:a,classForValue:function(n){var e=n&&n.count;return e?e<20?"color-news-1":e<60?"color-news-2":e<120?"color-news-3":"color-news-4":"color-news-0"},gutterSize:2,tooltipDataAttrs:function(n){return{"data-tip":"".concat(n.date&&n.date.toISOString().slice(0,10)||"","  \u6d4f\u89c8\u65f6\u95f4: ").concat(n.count,"min"),rx:2,width:"12px",height:"12px"}},showWeekdayLabels:!0}),Object(v.jsxs)(O,{children:[Object(v.jsxs)("div",{className:"statistics",children:[Object(v.jsxs)("span",{className:"all-read-time",children:["\u6700\u8fd1\u8fde\u7eed\u767b\u9646\u65f6\u95f4:"," ",Object(v.jsx)("span",{className:"num",children:l.recentlyLoginTime})," \u5929"]}),Object(v.jsxs)("span",{className:"all-read-time",children:["\u6700\u957f\u8fde\u7eed\u767b\u9646\u65f6\u95f4\uff1a",Object(v.jsx)("span",{className:"num",children:l.longestLoginTime})," \u5929"]}),Object(v.jsxs)("span",{className:"all-read-time",children:["\u6700\u8fd1\u4e00\u5e74\u6d4f\u89c8\u603b\u65f6\u95f4\uff1a",Object(v.jsx)("span",{className:"num",children:l.allReadingTime})," \u5206\u949f"]})]}),Object(v.jsxs)("div",{className:"color-show-box",children:["\u5c11",Object(v.jsx)("div",{className:"color-box",children:[1,2,3,4,5].map((function(n,e){return Object(v.jsx)("div",{"data-for":"showScope","data-tip":z(e)},e)}))}),"\u591a"]})]}),Object(v.jsx)(b.a,{}),Object(v.jsx)(b.a,{id:"showScope"})]})})),z=t(290),D=t.n(z),S=t(291),C=t(9),L=t(1003),N=t(1028),T=t(1004),I=t.n(T),M=t(45),Y=t(297),q=t(1014),_=t(169),R=t(272),E=x.b.div(i||(i=Object(g.a)(["\n  padding: 10px;\n  max-height: 330px;\n  overflow-y: auto;\n  border-bottom: 2px solid #eee;\n\n  // \u8bbe\u7f6e\u6587\u672c\u6846\u6eda\u52a8\u6761\u7684\u6837\u5f0f\n  &::-webkit-scrollbar {\n    width: 6px;\n  }\n  // \u6eda\u52a8\u69fd\n  &::-webkit-scrollbar-track {\n    color: #fbfbfb;\n  }\n  // \u6eda\u52a8\u6761\u6ed1\u5757\n  &::-webkit-scrollbar-thumb {\n    background-color: rgb(221, 219, 219);\n    border-radius: 10px;\n    box-shadow: inset 2px 2px 5px 0 rgba(#fff, 0.5);\n  }\n\n  .title {\n    justify-content: flex-end;\n    height: 32px;\n\n    h1 {\n      font-size: 1.28em;\n      font-weight: bold;\n      color: #40485b;\n    }\n\n    .edit {\n      cursor: pointer;\n\n      svg:hover {\n        fill: #1772dc;\n      }\n    }\n\n    .preview-btn {\n      display: flex;\n      align-items: center;\n      padding: 0 8px;\n      height: 28px;\n      margin-top: 8px;\n      cursor: pointer;\n\n      svg {\n        margin-right: 5px;\n        transition: all 0.3s;\n      }\n\n      &:hover {\n        svg {\n          fill: #1772dc;\n        }\n      }\n    }\n  }\n\n  .marked-appear {\n    max-height: 0;\n  }\n\n  .marked-appear-active {\n    max-height: 300px;\n    overflow-y: hidden;\n    transition: all 1.5s;\n  }\n\n  .ant-input {\n    margin-top: 10px !important;\n    height: 600px !important;\n    resize: none;\n\n    // \u8bbe\u7f6e\u6587\u672c\u6846\u6eda\u52a8\u6761\u7684\u6837\u5f0f\n    &::-webkit-scrollbar {\n      width: 4px;\n    }\n    // \u6eda\u52a8\u69fd\n    &::-webkit-scrollbar-track {\n      color: #fbfbfb;\n    }\n    // \u6eda\u52a8\u6761\u6ed1\u5757\n    &::-webkit-scrollbar-thumb {\n      background-color: rgb(221, 219, 219);\n      border-radius: 10px;\n      box-shadow: inset 2px 2px 5px 0 rgba(#fff, 0.5);\n    }\n  }\n\n  .scroll.show-area {\n    height: 100%;\n  }\n"]))),H=x.b.div(l||(l=Object(g.a)(["\n  pre,\n  code {\n    font-size: 0.85em;\n    font-family: Consolas, Inconsolata, Courier, monospace;\n  }\n\n  code {\n    margin: 0 0.15em;\n    padding: 0 0.3em;\n    white-space: pre-wrap;\n    border: 1px solid #eaeaea;\n    background-color: #f8f8f8;\n    border-radius: 3px;\n    display: inline; /* added to fix Yahoo block display of inline code */\n  }\n\n  pre {\n    font-size: 1em;\n    line-height: 1.2em;\n  }\n\n  pre code {\n    white-space: pre;\n    overflow: auto; /* fixes issue #70: Firefox/Thunderbird: Code blocks with horizontal scroll would have bad background colour */\n    border-radius: 3px;\n    border: 1px solid #ccc;\n    padding: 0.5em 0.7em;\n    display: block !important;\n  }\n\n  p {\n    margin: 0 0 10px 0 !important;\n  }\n\n  table,\n  pre,\n  dl,\n  blockquote,\n  q,\n  ul,\n  ol {\n    margin: 1.2em 0;\n  }\n\n  ul,\n  ol {\n    padding-left: 2em;\n    margin: 0;\n  }\n\n  li {\n    margin: 0.5em 0;\n    font-size: 16px;\n  }\n\n  li p {\n    margin: 0.5em 0 !important;\n  }\n\n  /* Smaller spacing for sub-lists */\n  ul ul,\n  ul ol,\n  ol ul,\n  ol ol {\n    margin: 0;\n    padding-left: 1em;\n  }\n\n  /* Use letters for unordered-lists. (Like Github.) */\n  ul ul,\n  ul,\n  ul {\n    list-style-type: square;\n    font-size: 16px;\n  }\n\n  /* Use letters for sub-ordered-lists. (Like Github.) */\n  ol ol,\n  ul ol {\n    list-style-type: lower-roman;\n  }\n\n  /* Use Roman numerals for sub-sub-ordered lists. (Like Github.) */\n  ul ul ol,\n  ul ol ol,\n  ol ul ol,\n  ol ol ol {\n    list-style-type: lower-alpha;\n  }\n\n  ul > li {\n    list-style: disc;\n  }\n\n  dl {\n    padding: 0;\n  }\n\n  dl dt {\n    font-size: 1em;\n    font-weight: bold;\n    font-style: italic;\n  }\n\n  dl dd {\n    margin: 0 0 1em;\n    padding: 0 1em;\n  }\n\n  blockquote,\n  q {\n    border-left: 4px solid #ddd;\n    padding: 0 1em;\n    color: #777;\n    quotes: none;\n  }\n\n  blockquote::before,\n  blockquote::after,\n  q::before,\n  q::after {\n    content: none;\n  }\n\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6 {\n    margin-bottom: 10px;\n    padding: 0;\n    font-weight: bold;\n  }\n  h1 {\n    font-size: 24px;\n  }\n  h2 {\n    font-size: 22px;\n  }\n  h3 {\n    font-size: 20px;\n  }\n  h4 {\n    font-size: 18px;\n  }\n  h5 {\n    font-size: 16px;\n  }\n  h6 {\n    font-size: 16px;\n    color: #777;\n  }\n  h1,\n  h2 {\n    padding-bottom: 6.3px;\n    border-bottom: 1px solid #eee;\n  }\n  table {\n    padding: 0;\n    border-collapse: collapse;\n    border-spacing: 0;\n    font-size: 1em;\n    font: inherit;\n    border: 0;\n  }\n\n  tbody {\n    margin: 0;\n    padding: 0;\n    border: 0;\n  }\n\n  table tr {\n    border: 0;\n    border-top: 1px solid #ccc;\n    background-color: white;\n    margin: 0;\n    padding: 0;\n  }\n\n  table tr:nth-child(2n) {\n    background-color: #f8f8f8;\n  }\n\n  table tr th,\n  table tr td {\n    font-size: 1em;\n    border: 1px solid #ccc;\n    margin: 0;\n    padding: 0.5em 1em;\n  }\n\n  table tr th {\n    font-weight: bold;\n    background-color: #f0f0f0;\n  }\n\n  p {\n    font-size: 16px;\n    line-height: 1.75em;\n    padding-right: 0.5em;\n    padding-left: 0.5em;\n  }\n\n  strong,\n  b {\n    font-weight: bolder !important;\n  }\n"]))),A=q.a.TextArea,F=new I.a.FilterXSS({whiteList:{div:["align","title","style"],p:["align","style"],span:["align","style"],img:["align","alt","src","target","title","style"],h1:["align","style"],h2:["align","style"],h3:["align","style"],h4:["align","style"],h5:["align","style"],h6:["align","style"]}});function G(){var n=Object(c.useRef)(),e=Object(C.g)().id,t=Object(c.useContext)(m.a).userInfo,a=t.personal_page,r=t.nickname,o=t.introduction,i=Object(c.useRef)(a),l=Object(c.useState)(!1),s=Object(d.a)(l,2),u=s[0],p=s[1],b=Object(c.useState)(!1),f=Object(d.a)(b,2),h=f[0],g=f[1],x=new L.marked.Renderer;L.marked.setOptions({renderer:x,gfm:!0,tables:!0,breaks:!0,pedantic:!1,sanitize:!1,smartLists:!0,smartypants:!1}),Object(c.useEffect)((function(){i.current=a}),[a]),Object(c.useEffect)((function(){Object(Y.d)("personal_page",a)}),[a]),Object(c.useEffect)((function(){if(!u&&a){var e=F.process(Object(Y.b)("personal_page")||a);n.current.innerHTML=Object(L.marked)(e)}}),[u,a]);var j=function(){var n=Object(S.a)(D.a.mark((function n(){var e,t,l,c;return D.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e=Object(Y.b)("personal_page"),i.current===e){n.next=18;break}return g(!0),i.current=e,n.prev=4,n.next=7,Object(M.o)({nickname:r,introduction:o,personal_page:e});case 7:t=n.sent,l=t.data,c=l.msg,200===l.code?a=t.data.userInfo.personal_page:_.b.error(c),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(4),_.b.error(n.t0);case 15:return n.prev=15,g(!1),n.finish(15);case 18:p(!1);case 19:case"end":return n.stop()}}),n,null,[[4,12,15,18]])})));return function(){return n.apply(this,arguments)}}(),w=e===JSON.parse(Object(Y.a)("userInfo")||"{}").user_id;return Object(v.jsxs)(E,{children:[w&&a&&Object(v.jsx)("div",{className:"title middle-item",children:u?Object(v.jsx)(R.a,{className:"preview-btn",loading:h,icon:Object(v.jsx)("svg",{"aria-hidden":"true",height:"16",viewBox:"0 0 16 16",version:"1.1",width:"16","data-view-component":"true",children:Object(v.jsx)("path",{fillRule:"evenodd",d:"M1.679 7.932c.412-.621 1.242-1.75 2.366-2.717C5.175 4.242 6.527 3.5 8 3.5c1.473 0 2.824.742 3.955 1.715 1.124.967 1.954 2.096 2.366 2.717a.119.119 0 010 .136c-.412.621-1.242 1.75-2.366 2.717C10.825 11.758 9.473 12.5 8 12.5c-1.473 0-2.824-.742-3.955-1.715C2.92 9.818 2.09 8.69 1.679 8.068a.119.119 0 010-.136zM8 2c-1.981 0-3.67.992-4.933 2.078C1.797 5.169.88 6.423.43 7.1a1.619 1.619 0 000 1.798c.45.678 1.367 1.932 2.637 3.024C4.329 13.008 6.019 14 8 14c1.981 0 3.67-.992 4.933-2.078 1.27-1.091 2.187-2.345 2.637-3.023a1.619 1.619 0 000-1.798c-.45-.678-1.367-1.932-2.637-3.023C11.671 2.992 9.981 2 8 2zm0 8a2 2 0 100-4 2 2 0 000 4z"})}),title:"\u4fdd\u5b58\u5e76\u9884\u89c8",onClick:j,children:"Preview"}):Object(v.jsx)("div",{className:"edit middle-item",title:"\u7f16\u8f91\u4e2a\u4eba\u4e3b\u9875",onClick:function(n){return p(!0)},children:Object(v.jsx)("svg",{height:"16",width:"16",children:Object(v.jsx)("path",{d:"M11.013 1.427a1.75 1.75 0 012.474 0l1.086 1.086a1.75 1.75 0 010 2.474l-8.61 8.61c-.21.21-.47.364-.756.445l-3.251.93a.75.75 0 01-.927-.928l.929-3.25a1.75 1.75 0 01.445-.758l8.61-8.61zm1.414 1.06a.25.25 0 00-.354 0L10.811 3.75l1.439 1.44 1.263-1.263a.25.25 0 000-.354l-1.086-1.086zM11.189 6.25L9.75 4.81l-6.286 6.287a.25.25 0 00-.064.108l-.558 1.953 1.953-.558a.249.249 0 00.108-.064l6.286-6.286z"})})})}),u?Object(v.jsx)(A,{spellCheck:"false",defaultValue:Object(Y.b)("personal_page")||a,onChange:function(n){return Object(Y.d)("personal_page",n.target.value)}}):Object(v.jsx)(N.a,{in:!0,timeout:1500,appear:!0,classNames:"marked",children:Object(v.jsx)(H,{ref:n})})]})}e.default=Object(c.memo)((function(){return Object(v.jsxs)("div",{children:[Object(v.jsx)(G,{}),Object(v.jsx)(k,{})]})}))},297:function(n,e,t){"use strict";t.d(e,"a",(function(){return a})),t.d(e,"c",(function(){return r})),t.d(e,"b",(function(){return o})),t.d(e,"d",(function(){return i}));var a=function(n){return localStorage.getItem(n)},r=function(n,e){localStorage.setItem(n,e)},o=function(n){return sessionStorage.getItem(n)},i=function(n,e){sessionStorage.setItem(n,e)}},470:function(n,e,t){"use strict";t.d(e,"e",(function(){return o})),t.d(e,"a",(function(){return i})),t.d(e,"b",(function(){return l})),t.d(e,"d",(function(){return c})),t.d(e,"c",(function(){return s}));var a=t(299),r=t.n(a),o=function(n,e){var t=new Date(n);return t.setDate(t.getDate()+e),t},i=function(n,e){var t;return(t=n,Array.from({length:t},(function(n,e){return e}))).map((function(n){return{date:new Date(o(e,-n)),count:0}}))},l=function(){var n=(new Date).getFullYear();return{nowYear:n,allDays:28===new Date(n,2,0).getDate()?365:366,endDay:new Date("".concat(n,"-12-31"))}},c=function(n){var e=(n=r()(n).format("YYYY-MM-DD HH:mm:ss")).split("-");return{day:parseInt(e[2]),month:parseInt(e[1]),year:parseInt(e[0])}},s=function(n){if(n.length){for(var e=function(n){var e=n.split("-");return new Date(e[0],parseInt(e[1]-1),e[2]).getDay()}(r()(n[0].date).format("YYYY-MM-DD HH:mm:ss").slice(0,10)),t=0,a=0,o=t=e?1===e?0:8-e:1,i=t,l=n.length-t-6;i<l;i+=7){for(var c=0,s=i;s<i+7;s++)c+=n[s].count;a<c&&(o=i,a=c)}for(var d=n[o].date,u=n[o+6].date,p=[],b=o,f=o+7;b<f;b++)p.push(n[b].count);return{startDay:d,endDay:u,maxTime:a,dataArr:p}}}}}]);
//# sourceMappingURL=60.b84f6176.chunk.js.map