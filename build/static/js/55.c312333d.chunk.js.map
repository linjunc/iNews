{"version":3,"sources":["pages/user/components/concern/components/concern-item/style.js","pages/user/components/concern/components/concern-item/index.js","pages/user/components/concern/components/follow/index.js","utils/storage.js","utils/scrollHeight.js","assets/user-center/default-avatar.png","utils/high-order-components.js","utils/optimize-fn.js"],"names":["ConcernItemWrapper","styled","div","ConcernItem","props","userInfo","isTag","index","navigate","useNavigate","avatarRef","useRef","avatar","nickname","introduction","media_id","user_id","is_follow","tag","name","useState","isFollow","setIsFollow","useEffect","imgDom","current","imgLazyLoad","throttle","lazyLoad","src","onload","style","opacity","window","removeEventListener","addEventListener","onClick","className","alt","ref","onError","e","target","onerror","noAvatar","stopPropagation","getLocal","focusTags","tag_list","FocusAuthor","message","warn","antIcon","LoadingOutlined","fontSize","spin","memo","getFollowListFn","isFollower","useParams","id","isLoading","setIsLoading","followingList","setFollowingList","skipNum","setSkipNum","skipNumRef","isRequest","setIsRequest","isRequestRef","hasMoreRef","requestMoreArticle","useMemo","length","getFollowList","a","n","skip","data","console","log","has_more","follower_list","follow_list","error","skeletonHandlerHOC","map","item","description","rows","indicator","tip","itemName","localStorage","getItem","setLocal","setItem","getSession","sessionStorage","setSession","getScrollTop","scrollTop","document","documentElement","body","WrapperComponents","args","paragraph","loading","active","executeFn","dom","distance","targetDom","innerHeight","offsetTop","scrollHeight"],"mappings":"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","file":"static/js/55.c312333d.chunk.js","sourcesContent":["import styled from 'styled-components'\n\nexport const ConcernItemWrapper = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  min-height: 84px;\n  padding: 6px 28.8px;\n  cursor: pointer;\n  border-bottom: 1px solid rgba(230, 230, 231, 0.5);\n\n  &:hover {\n    background: #fcfcfc;\n  }\n\n  .btn-style {\n    justify-content: center;\n    flex: 0 0 auto;\n    margin-left: 12px;\n    width: 88px;\n    height: 28px;\n    font-size: 12px;\n    border: 1px solid #92c452;\n    border-radius: 2px;\n    border: 1px solid #92c452;\n    transition: background-color 0.5s, color 0.5s;\n\n    &:hover {\n      opacity: 0.8;\n    }\n  }\n\n  .not-follow {\n    color: #92c452;\n    background-color: #fff;\n  }\n\n  .has-follow {\n    color: #fff;\n    background-color: #92c452;\n  }\n\n  & > div {\n    display: flex;\n    align-items: center;\n\n    .avatar {\n      width: 45px;\n      height: 45px;\n      border-radius: 50%;\n      margin-right: 10px;\n      background-color: #eee;\n      overflow: hidden;\n\n      img {\n        width: 100%;\n        height: 100%;\n        opacity: 0;\n      }\n    }\n\n    .title {\n      font-size: 16px;\n      font-weight: 600;\n      color: #2e3135;\n    }\n\n    .brief {\n      margin-top: 7.2px;\n      font-size: 12px;\n      color: #b9c0c8;\n    }\n  }\n`\n","import React, { useState, useRef, useEffect } from 'react'\nimport { useNavigate } from 'react-router-dom'\nimport { throttle } from 'lodash'\n\nimport { lazyLoad } from '../../../../../../utils/optimize-fn'\nimport { getLocal } from '../../../../../../utils/storage'\n\nimport { Button, message } from 'antd'\nimport { FocusAuthor, focusTags } from '../../../../../../services/user'\nimport noAvatar from '../../../../../../assets/user-center/default-avatar.png'\n\nimport { ConcernItemWrapper } from './style'\n\nexport default function ConcernItem(props) {\n  const { userInfo, isTag, index } = props\n  const navigate = useNavigate()\n  const avatarRef = useRef()\n\n  const {\n    avatar,\n    nickname,\n    introduction,\n    user_id: media_id,\n    is_follow = true,\n    tag,\n    name,\n  } = userInfo || {}\n  // 需要根据用户的状态从而控制按钮的颜色\n  const [isFollow, setIsFollow] = useState(is_follow)\n\n  // 点击按钮后发送请求\n  const followUser = (e) => {\n    // 阻止冒泡事件\n    e.stopPropagation()\n    if (getLocal('token')) {\n      setIsFollow(!isFollow)\n      isTag\n        ? focusTags({\n            user_id: media_id,\n            tag_list: [`${tag}`],\n          })\n        : FocusAuthor({ media_id })\n    } else {\n      message.warn('您还没有登录哦！')\n    }\n  }\n\n  // item被点击的时候跳转至对应的个人主页\n  const itemClick = () => {\n    if (!isTag) {\n      navigate(`/user/${media_id}`)\n    }\n  }\n\n  useEffect(() => {\n    const imgDom = avatarRef.current\n    // 如果该新闻有图片，则需要为其监听滚动事件\n    if (imgDom) {\n      // 一开始的前5张图片为了确保用户一开始就能看见，所以是需要立即渲染的\n      if (index < 7) {\n        imgDom.src = avatar\n        imgDom.onload = () => (imgDom.style.opacity = 1)\n      } else {\n        const imgLazyLoad = throttle(\n          lazyLoad(\n            () => {\n              imgDom.src = avatar\n              imgDom.onload = () => {\n                // 图片加载完毕之后显示图片\n                imgDom.style.opacity = 1\n                window.removeEventListener('scroll', imgLazyLoad)\n              }\n            },\n            imgDom,\n            50,\n          ),\n          200,\n        )\n        window.addEventListener('scroll', imgLazyLoad)\n        return () => {\n          window.removeEventListener('scroll', imgLazyLoad)\n        }\n      }\n    }\n  }, [avatar, index])\n\n  return (\n    <ConcernItemWrapper onClick={itemClick}>\n      <div>\n        {isTag || (\n          <div className=\"avatar\">\n            <img\n              alt=\"用户头像\"\n              ref={avatarRef}\n              onError={(e) => {\n                e.target.onerror = null\n                e.target.src = noAvatar\n              }}\n            />\n          </div>\n        )}\n        <div>\n          <h4 className=\"title text-nowrap\">{nickname || name}</h4>\n          <p className=\"brief text-nowrap\">{introduction}</p>\n        </div>\n      </div>\n      <Button\n        className={\n          (isFollow ? 'has-follow' : 'not-follow') + ' btn-style middle-item'\n        }\n        onClick={followUser}\n      >\n        {isFollow ? '已关注' : '关注'}\n      </Button>\n    </ConcernItemWrapper>\n  )\n}\n","import React, { memo, useEffect, useState, useRef, useMemo } from 'react'\nimport { useParams } from 'react-router'\nimport { throttle } from 'lodash'\n\nimport { lazyLoad } from '../../../../../../utils/optimize-fn'\n\nimport { skeletonHandlerHOC } from '../../../../../../utils/high-order-components'\n\nimport { message, Empty, Spin } from 'antd'\nimport { LoadingOutlined } from '@ant-design/icons'\nimport ConcernItem from '../concern-item'\n\nconst antIcon = <LoadingOutlined style={{ fontSize: 24 }} spin />\nexport default memo(function ConcernFollow(props) {\n  const { getFollowListFn, isFollower } = props\n  const { id: user_id } = useParams()\n  const [isLoading, setIsLoading] = useState(true)\n  const [followingList, setFollowingList] = useState([])\n  const [skipNum, setSkipNum] = useState(0)\n  const skipNumRef = useRef(0)\n  // 记录现在是否已再发请求了，如果是的话，那么就不要继续发送\n  const [isRequest, setIsRequest] = useState(false)\n  // 判断时主要依靠useRef中的值，useState只负责让组件重新渲染，这样才能出现加载框\n  const isRequestRef = useRef(false)\n  const hasMoreRef = useRef(true)\n\n  // 用户滑动到底部的时候请求更多的数据\n  const requestMoreArticle = useMemo(() => {\n    return throttle(\n      lazyLoad(() => {\n        isRequestRef.current ||\n          setSkipNum((skipNum) => (skipNumRef.current = skipNum + 10))\n      }),\n      200,\n    )\n  }, [])\n\n  // 初始化数据\n  useEffect(() => {\n    skipNum && setSkipNum(0)\n    skipNumRef.current = 0\n    isLoading || setIsLoading(true)\n    followingList.length && setFollowingList([])\n    isRequest && setIsRequest(false)\n    isRequestRef.current = false\n    hasMoreRef.current = true\n  }, [getFollowListFn])\n\n  // 获取该用户所有的关注者列表\n  useEffect(() => {\n    const getFollowList = async () => {\n      // 将isRequest的值改为true，表明现在正在发送请求\n      setIsRequest((isRequestRef.current = true))\n      try {\n        const { data } = await getFollowListFn({\n          user_id,\n          n: 10,\n          skip: skipNumRef.current,\n        })\n        console.log(data)\n        setIsRequest((isRequestRef.current = false))\n        // 如果数据已经没有更多了，则取消监听滚动事件，这样就不会继续发送请求了\n        if (!data.has_more) {\n          hasMoreRef.current = false\n          window.removeEventListener('scroll', requestMoreArticle)\n        }\n        if (isFollower) {\n          data.follower_list &&\n            setFollowingList((follower_list) => [\n              ...follower_list,\n              ...data.follower_list,\n            ])\n        } else {\n          data.follow_list &&\n            setFollowingList((follow_list) => [\n              ...follow_list,\n              ...data.follow_list,\n            ])\n        }\n      } catch (err) {\n        message.error('请求失败，请重试！')\n      } finally {\n        setIsLoading(false)\n      }\n    }\n    // 在没接收到响应之前不允许发送第二次请求\n    isRequest || getFollowList()\n  }, [skipNumRef.current, getFollowListFn])\n\n  // 监听页面滚动事件\n  useEffect(() => {\n    window.addEventListener('scroll', requestMoreArticle)\n    return () => {\n      window.removeEventListener('scroll', requestMoreArticle)\n    }\n  }, [getFollowListFn, requestMoreArticle])\n\n  return (\n    <div className=\"items\">\n      {skeletonHandlerHOC(\n        followingList.length ? (\n          followingList.map((item, index) => {\n            return (\n              <ConcernItem key={item.user_id} userInfo={item} index={index} />\n            )\n          })\n        ) : (\n          <Empty description=\"暂时还没有关注信息哦！\" />\n        ),\n        { rows: 0 },\n        isLoading,\n        true,\n      )}\n      {isRequest && !isLoading && <Spin indicator={antIcon} tip=\"加载中...\" />}\n      {hasMoreRef.current ||\n        (followingList.length > 10 && (\n          <div className=\"toBottom middle-item\">已经没有更多内容了哦！</div>\n        ))}\n    </div>\n  )\n})\n","// 从本地存储中获取数据的函数\nexport const getLocal = (itemName) => {\n  return localStorage.getItem(itemName)\n}\n\n// 存取数据到本地的函数\nexport const setLocal = (itemName, item) => {\n  localStorage.setItem(itemName, item)\n}\n\n// 从会话存储中获取数据的函数\nexport const getSession = (itemName) => {\n  return sessionStorage.getItem(itemName)\n}\n\n// 存取数据到会话数据的函数\nexport const setSession = (itemName, item) => {\n  sessionStorage.setItem(itemName, item)\n}\n\n// 将取出来数据中的实体字符转为innerHTML能够解析成的标签形式\n// const escapeHtml = str => {\n//   const arrEntities = { lt: '<', gt: '>', nbsp: ' ', amp: '&', quot: '\"' }\n//   return (\n//     str && str.replace(/&(lt|gt|nbsp|amp|quot);/gi, function (all, t) {\n//       return arrEntities[t]\n//     })\n//   )\n// }\n","// 获取到顶部的距离\nexport const getScrollTop = () => {\n    let scrollTop = 0;\n    if (document?.documentElement && document?.documentElement?.scrollTop) {\n        scrollTop = document?.documentElement.scrollTop;\n    }\n    else if (document?.body) {\n        scrollTop = document?.body.scrollTop;\n    }\n    return scrollTop;\n}\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAE50lEQVR4nO1avYobSRD2I+gNVk9g9AAO/AjOnCrwA+gBDjbbmf5qoMGxQdHFgksWRxM4NNxEF9kgjoODYwPBBQv3t7rganQ15Z5RV/eMxhh9MNFud/32V9VdevbsiiuuuGImeO8XRVEs59ZjUrCRL4noFkANoAGwB3AAcBTfnv++IyJfFMXLuXVPRms0gG3AUOu3A7Ce26YoeO8XROR7jD5wlJs2ys65DRHdcnZsOQP2fc4gIj+3jUF47xcA1gHlDwBq59zGe7+w7Mn77XocuZ7IFDs41RulZANgbTW6D865VwHnNrPzhHNuo9L9kBJto7yOI5xzmylkDUKc9YsYrsGOmIcb+LzvlPGvLqYAA8BKZV8zeQACxjdzNjJFUSwV/9STClRpn+TxoiiWXP48l74tEd3mZBGXz1PfkLrPINS5MxvfUy36Gp+VZW/OTLn32mTcOajzdrAoyGv7DB/qErcWHdkJp/1GLZHCABPhcdQ7ZZK7vpXOIK7120CtXxrlnWQZTOyHTH0iuo1dF2DpOiZzeJ2s9QfLccN/HeQ4R4HTqlVmH6uIWndMbIVlNpjYXcjOywJOV3PHJdflNCmpxCazwJK1HShSiY4+12bzuoG9ks605K2kXoVJyex9yRljdIhyPwuzZ3MB/u/4rCTUNiWNWWgAnIlJpVFkoq05UiRmWjzG2Q/suU9xqiBSGxmmpr88s8nkE0CqIal2dFjc2IicHDDmPV2WRMu65OMjzr8p5aTAkTOg1WefsLatBvG9hCAy8/UymXiG99xn6FObnScEmliX156qh3Vtz36rnKwSV/h4fXKYPLv+Ksg3iJQbnuSzqHKey+SKeNK6MIZi8aTXHhWQ89d4aUAqk6vHkyTF9SNH6v1eOiA6GGMwOboXmZ2xm1wJLslqqlQrvYxVIJvJ9ZUYERMd7/0iMGvIeu1N6iGSamcAgVfbI4Cdc27DE+PnAFZieqz/t8596k7qaZJq5wCI6Hvn3FEZN/T9PtagJSmYsvTkKHFmWnzu2+d2k+pNI76nSb5ECMEDhjdE9IGIfiCi9wDu+fvY56hUEpR2mN4mlOdMRMgvs3tlRM3kdrYOt4OTwB5NVB0XQOKbRrvYfAVVk6MjIl+C+8AR7BCjpTdB4ptGuzi6peWM2Yr/H/VHDIFp8FluUOlvb+hUSztYDaCmxTlR74MaepwNiqhk6e24vEj0CVTRmcT4FtoJfcQmo5/1NKe6uS+4gAUlzQxTocdfOrrqDmEnPw30DBm0oEsY30I5oUNwqaO8QciS1N7K1PRntOcvg047rRO688isoUwHOu24h28FTf/TlAA0SQfmkeP+bEeVxd9i2XhKqL7j/eQZiS/n9/kkkwH1Cp3P+jEgog/CAY9z/kiqqqobAH8KfaY/jiz0UQh9AvB6UqEBFEXxBsBfswUDwGfVlEzz6ywFDsA9O76V/0tVVTeXkN8BKyI54dE5924qeXd3dxuVfRdzfC8AvAHwz1SO8N4vQoZzBhRjyBgFzrnQT9uPRPQZwFvLXlVV3ZRl+R0R/QTg74Dh97OkfAwCx0J+D0T0q3PuExHVzrl3/O2I6EcADxzpp8DaJyKqiej53DZGgTPiYcAZMd8Td5z3ZVm+mNumZAAoOMIHVbq0sX9wBvwM4O1Xm+ZjoSzLFwBef/OGXnHFFV8t/gWFCJ5xlnjv0QAAAABJRU5ErkJggg==\"","import React from 'react'\n\nimport { Skeleton } from 'antd'\n\n// 用于给传进来的组件包裹多层骨架屏的\nexport const skeletonHandlerHOC = (WrapperComponents, ...args) => {\n  // 从args中获取到不同组件应用骨架屏时想要的效果及其对应的对象和函数\n  const [paragraph = { rows: 3 }, loading, avatar = false] = args\n\n  return (\n    <>\n      <Skeleton\n        paragraph={paragraph}\n        active\n        avatar={avatar}\n        loading={loading}\n        className=\"Skeleton\"\n      >\n        {WrapperComponents}\n      </Skeleton>\n      <Skeleton\n        paragraph={paragraph}\n        active\n        avatar={avatar}\n        loading={loading}\n        className=\"Skeleton\"\n      />\n      <Skeleton\n        paragraph={paragraph}\n        active\n        avatar={avatar}\n        loading={loading}\n        className=\"Skeleton\"\n      />\n    </>\n  )\n}\n","import { getScrollTop } from './scrollHeight'\n\n// 滑动到浏览器底部的时候执行操作\nexport const lazyLoad = (executeFn, dom, distance) => {\n  const targetDom = dom || document.body\n  return () => {\n    // 可视区域高度\n    const h = window.innerHeight\n    //滚动区域高度\n    const s = getScrollTop()\n    //图片距离顶部的距离大于可视区域和滚动区域之和时懒加载\n    const targetHeight = dom ? targetDom.offsetTop : targetDom.scrollHeight\n    if (h + s >= targetHeight - (distance || 200)) {\n      executeFn()\n    }\n  }\n}\n"],"sourceRoot":""}