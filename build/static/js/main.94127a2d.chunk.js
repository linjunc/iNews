(this.webpackJsonpinews=this.webpackJsonpinews||[]).push([[42],{178:function(e,t,n){},180:function(e,t,n){},22:function(e,t,n){"use strict";var r=n(83),i=n.n(r),c=i.a.create({baseURL:"https://api.linjuncheng.cn",timeout:3e4,headers:{"Content-Type":"application/json",Authorization:""}});c.interceptors.request.use((function(e){if(localStorage.getItem("token")){console.log(1);var t=JSON.parse(localStorage.getItem("token"));e.headers.Authorization="".concat(t)}else console.log("\u5220\u9664 token \u4e86"),delete e.headers.Authorization;return console.log("\u8bf7\u6c42\u62e6\u622a\u5668 \u6210\u529f"),e}),(function(e){return Promise.reject(e)})),c.interceptors.response.use((function(e){return 401===e.data.code?(window.localStorage.removeItem("token"),window.location.href="/login",Promise.reject("\u7528\u6237token\u5931\u6548")):200!==e.status?Promise.reject("\u72b6\u6001\u7801\u9519\u8bef"):(console.log(2),Promise.resolve(e))}),(function(e){return i.a.isCancel(e)?console.log("\u8bf7\u6c42\u88ab\u53d6\u6d88\u4e86\uff01"):console.log("\u8bf7\u6c42\u9519\u8bef"),Promise.reject(e)})),t.a=c},271:function(e,t,n){"use strict";n.r(t);var r,i,c,o=n(0),l=n(25),a=n.n(l),u=(n(178),n(35)),s=n(67),d=n(68),b=Object(d.a)(r||(r=Object(s.a)(["\n\n    html, body, div, span, applet, object, iframe,\n    h1, h2, h3, h4, h5, h6, p, blockquote, pre,\n    a, abbr, acronym, address, big, cite, code,\n    del, dfn, em, img, ins, kbd, q, s, samp,\n    small, strike, strong, sub, sup, tt, var,\n    b, u, i, center,\n    dl, dt, dd, ol, ul, li,\n    fieldset, form, label, legend,\n    table, caption, tbody, tfoot, thead, tr, th, td,\n    article, aside, canvas, details, embed, \n    figure, figcaption, footer, header, hgroup, \n    menu, nav, output, ruby, section, summary,\n    time, mark, audio, video {\n        margin: 0;\n        padding: 0;\n        border: 0;\n        font-size: 100%;\n        font: inherit;\n        vertical-align: baseline;\n    }\n    /* HTML5 display-role reset for older browsers */\n    article, aside, details, figcaption, figure, \n    footer, header, hgroup, menu, nav, section {\n        display: block;\n    }\n    body {\n        line-height: 1;\n        min-width: 1200px;\n        margin: 0 auto;\n        background-color: #f4f5f5;\n    }\n    ol, ul {\n        list-style: none;\n    }\n    blockquote, q {\n        quotes: none;\n    }\n    blockquote:before, blockquote:after,\n    q:before, q:after {\n        content: '';\n        content: none;\n    }\n    table {\n        border-collapse: collapse;\n        border-spacing: 0;\n    }\n"]))),f=n(9),j=n(114),h=(n(180),n(169)),m=n(273),p=n(277),O=n(278),g=n(272),x=n(69),v=d.b.div(i||(i=Object(s.a)(["\n    position: fixed;\n    top: 0;\n    right: 0;\n    width: 30px;\n    height: 100vh;\n    background-color: #74b9ff;\n    opacity: .1;\n    transition: all .5s;\n    cursor: pointer;\n    :hover {\n        opacity: .3;\n    }\n    \n"]))),y=d.b.div(c||(c=Object(s.a)(["\n    display: flex;\n    align-items: center;\n    .author-article {\n        display: flex;\n        margin: 20px 0;\n        cursor: pointer;\n        width: 100%;\n        .article-list-img {\n            margin-right: 10px;\n            img {\n                width: 94px;\n                height: 70px;\n            }\n        }\n        .article-list-right {\n            display: flex;\n            flex-direction: column;\n            justify-content: space-between;\n            flex: 1;\n            .article-list-title {\n                max-height: 48px;\n                font-size: 16px;\n                line-height: 24px;\n                color: #222;\n                display: -webkit-box;\n                overflow: hidden;\n                -webkit-line-clamp: 2;\n                -webkit-box-orient: vertical;\n                text-overflow: ellipsis;\n            }\n            .article-list-num {\n                display: flex;\n                flex-direction: row;\n                justify-content: space-between;\n                font-size: 12px;\n                color: #999999;\n            }\n        }\n    } \n"]))),_=n(33),w=n(7),k=function(){var e=Object(f.f)(),t=Object(o.useContext)(x.b),n=t.article,r=t.dispatch,i=Object(o.useState)(!1),c=Object(u.a)(i,2),l=c[0],a=c[1];return Object(w.jsxs)("div",{children:[Object(w.jsx)(m.a,{placement:"left",content:"\u70b9\u6211\u8bd5\u8bd5",children:Object(w.jsx)(v,{onClick:function(){a(!0)}})}),Object(w.jsx)(p.a,{title:"\u7a0d\u540e\u518d\u770b\u65b0\u95fb\u5217\u8868",onClose:function(){a(!1)},visible:l,children:Object(w.jsx)(O.b,{itemLayout:"vertical",dataSource:n,renderItem:function(t){return Object(w.jsxs)(y,{children:[Object(w.jsxs)("div",{className:"author-article",onClick:function(){return n=null===t||void 0===t?void 0:t.item_id,void e("/detail/".concat(n));var n},children:[Object(w.jsx)("div",{className:"article-list-img",children:Object(w.jsx)("img",{src:null===t||void 0===t?void 0:t.image_url,alt:""})}),Object(w.jsxs)("div",{className:"article-list-right",children:[Object(w.jsx)("div",{className:"article-list-title",children:null===t||void 0===t?void 0:t.title}),Object(w.jsxs)("div",{className:"article-list-num",children:[Object(w.jsxs)("div",{className:"article-read",children:[null===t||void 0===t?void 0:t.like_count," \u9605\u8bfb"]}),Object(w.jsx)("div",{className:"article-time",children:null===t||void 0===t?void 0:t.publish_time})]})]})]},null===t||void 0===t?void 0:t.article_id),Object(w.jsx)(g.a,{size:"small",onClick:function(e){return n=null===t||void 0===t?void 0:t.item_id,r({type:_.b,id:n}),void h.b.success("\u79fb\u9664\u6210\u529f");var n},children:"\u79fb\u9664"})]})}})})]})},P=n(276),T=n(45),z=Object(o.lazy)((function(){return Promise.all([n.e(0),n.e(2),n.e(4),n.e(50)]).then(n.bind(null,1039))})),S=Object(o.lazy)((function(){return Promise.all([n.e(0),n.e(2),n.e(4),n.e(7),n.e(47)]).then(n.bind(null,1021))})),C=Object(o.lazy)((function(){return Promise.all([n.e(1),n.e(7),n.e(6),n.e(45),n.e(62)]).then(n.bind(null,1029))})),I=Object(o.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(4),n.e(6),n.e(46)]).then(n.bind(null,1022))})),N=Object(o.lazy)((function(){return Promise.all([n.e(0),n.e(3),n.e(59),n.e(53)]).then(n.bind(null,1024))})),E=Object(o.lazy)((function(){return Promise.all([n.e(1),n.e(2),n.e(5),n.e(49),n.e(61)]).then(n.bind(null,1030))})),F=Object(o.lazy)((function(){return Promise.all([n.e(1),n.e(3),n.e(48),n.e(60)]).then(n.bind(null,1033))})),q=Object(o.lazy)((function(){return n.e(63).then(n.bind(null,1034))})),G=Object(o.lazy)((function(){return Promise.all([n.e(3),n.e(5),n.e(54)]).then(n.bind(null,1025))})),L=Object(o.lazy)((function(){return n.e(57).then(n.bind(null,1031))})),J=Object(o.lazy)((function(){return Promise.all([n.e(1),n.e(52)]).then(n.bind(null,1032))})),U=Object(o.lazy)((function(){return n.e(58).then(n.bind(null,1040))})),R=Object(o.lazy)((function(){return n.e(56).then(n.bind(null,1035))})),D=Object(o.lazy)((function(){return Promise.all([n.e(0),n.e(55)]).then(n.bind(null,1036))})),A=Object(o.lazy)((function(){return Promise.all([n.e(0),n.e(51)]).then(n.bind(null,1037))})),B=function(e){return Object(w.jsx)(o.Suspense,{fallback:Object(w.jsx)(P.a,{active:!0}),children:e})},M=[{path:"/",element:B(Object(w.jsx)(z,{})),children:[{path:"/",element:B(Object(w.jsx)(S,{}))},{path:"/detail/:id",element:B(Object(w.jsx)(I,{}))},{path:"/user/:id",element:B(Object(w.jsx)(N,{})),children:[{path:"",element:B(Object(w.jsx)(F,{}))},{path:"person",element:B(Object(w.jsx)(A,{getNewsFn:T.g}))},{path:"collect",element:B(Object(w.jsx)(A,{getNewsFn:T.d}))},{path:"likes",element:B(Object(w.jsx)(A,{getNewsFn:T.h}))},{path:"released",element:B(Object(w.jsx)(A,{getNewsFn:T.i}))},{path:"concern",element:B(Object(w.jsx)(q,{})),children:[{path:"",element:Object(w.jsx)(f.a,{to:"followers"})},{path:"tags",element:B(Object(w.jsx)(R,{}))},{path:"followers",element:B(Object(w.jsx)(D,{getFollowListFn:T.e,isFollower:!0}))},{path:"following",element:B(Object(w.jsx)(D,{getFollowListFn:T.f}))}]},{path:"report",element:B(Object(w.jsx)(G,{}))}]},{path:"/user/setting",element:B(Object(w.jsx)(L,{})),children:[{path:"",element:Object(w.jsx)(f.a,{to:"profile"})},{path:"profile",element:B(Object(w.jsx)(J,{}))},{path:"account",element:B(Object(w.jsx)(U,{}))}]},{path:"covidMap",element:B(Object(w.jsx)(E,{}))}]},{path:"login",element:B(Object(w.jsx)(C,{}))}],H=n(72),K=function(e,t){switch(t.type){case _.e:return Object(H.a)(t.articleData);case _.a:var n=-1===e.findIndex((function(e){return e.item_id===t.article.item_id}))?[t.article].concat(Object(H.a)(e)):e;return localStorage.setItem("articleLater",JSON.stringify(n)),n;case _.b:var r=e.findIndex((function(e){return e.item_id===t.id}));return-1!==r&&e.splice(r,1),localStorage.setItem("articleLater",JSON.stringify(Object(H.a)(e))),Object(H.a)(e);default:return e}},Q=function(e,t){switch(t.type){case _.f:case _.d:return t.userInfo;case _.c:return null;default:return e}};function V(){return Object(f.i)(M)}var W=function(){var e=Object(o.useRef)([]),t=Object(o.useRef)(null),n=Object(o.useReducer)(K,[]),r=Object(u.a)(n,2),i=r[0],c=r[1],l=Object(o.useReducer)(Q,null),a=Object(u.a)(l,2),s=a[0],d=a[1];return Object(o.useEffect)((function(){var n,r;(e.current=null!==(n=JSON.parse(localStorage.getItem("articleLater")))&&void 0!==n?n:[],c({type:_.e,articleData:e.current}),localStorage.getItem("token"))&&(t.current=null!==(r=JSON.parse(localStorage.getItem("userInfo")))&&void 0!==r?r:{},d({type:_.f,userInfo:t.current}))}),[]),Object(w.jsxs)(j.a,{children:[Object(w.jsx)(x.d.Provider,{value:{userInfo:s,userDispatch:d},children:Object(w.jsxs)(x.b.Provider,{value:{article:i,dispatch:c},children:[Object(w.jsx)(V,{}),Object(w.jsx)(k,{})]})}),Object(w.jsx)(b,{})]})},X=function(e){e&&e instanceof Function&&n.e(64).then(n.bind(null,1019)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),c(e),o(e)}))};a.a.render(Object(w.jsx)(W,{}),document.getElementById("root")),X()},33:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return o})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return a}));var r="add_article",i="delete_article",c="init_article",o="init_info",l="edit_info",a="delete_info"},45:function(e,t,n){"use strict";n.d(t,"m",(function(){return i})),n.d(t,"a",(function(){return c})),n.d(t,"o",(function(){return o})),n.d(t,"q",(function(){return l})),n.d(t,"r",(function(){return a})),n.d(t,"k",(function(){return u})),n.d(t,"j",(function(){return s})),n.d(t,"e",(function(){return d})),n.d(t,"n",(function(){return b})),n.d(t,"f",(function(){return f})),n.d(t,"l",(function(){return j})),n.d(t,"b",(function(){return h})),n.d(t,"h",(function(){return m})),n.d(t,"d",(function(){return p})),n.d(t,"g",(function(){return O})),n.d(t,"i",(function(){return g})),n.d(t,"p",(function(){return x})),n.d(t,"c",(function(){return v}));n(83);var r=n(22),i=function(e){return Object(r.a)({url:"/user_info",method:"GET",headers:{"Content-Type":"application/x-www-form-urlencoded"},params:e})},c=function(e){return Object(r.a)({url:"/follow_media",method:"PUT",data:e})},o=function(e){return Object(r.a)({url:"/set_user_info",method:"PUT",data:e})},l=function(e){return Object(r.a)({url:"/avatar_upload",method:"PUT",data:e})},a=function(e){return Object(r.a)({url:"/set_user_info",method:"PUT",data:e})},u=function(e){return Object(r.a)({url:"/calendar_hot_graph",method:"GET",params:e})},s=function(e){return Object(r.a)({url:"/reading_time_rank",method:"GET",params:e})},d=function(e){return Object(r.a)({url:"/follower",method:"GET",params:e})},b=function(e){return Object(r.a)({url:"/set_show_history",method:"PUT",data:e})},f=function(e){return Object(r.a)({url:"/follow_list",method:"GET",params:e})},j=function(e){return Object(r.a)({url:"/tag_list",method:"GET",params:e})},h=function(e){return Object(r.a)({url:"/set_tag_list",method:"PUT",data:e})},m=function(e,t){return Object(r.a)({url:"article_list_digg",method:"GET",params:e,cancelToken:t})},p=function(e,t){return Object(r.a)({url:"/article_list_like",method:"GET",params:e,cancelToken:t})},O=function(e,t){return Object(r.a)({url:"/history_list",method:"GET",params:e,cancelToken:t})},g=function(e){return Object(r.a)({url:"article_list_user",method:"GET",params:e})},x=function(e){return Object(r.a)({url:"/save_file_oss",method:"POST",data:e,headers:{"Content-Type":"multipart/form-data"}})},v=function(e){return Object(r.a)({url:"/tag_list_all",method:"GET",params:e})}},69:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return l})),n.d(t,"e",(function(){return a}));var r=n(0),i=Object(r.createContext)([]),c=Object(r.createContext)({}),o=Object(r.createContext)(),l=Object(r.createContext)({}),a=Object(r.createContext)({})}},[[271,43,44]]]);
//# sourceMappingURL=main.94127a2d.chunk.js.map